# 右移位寄存器

该移位寄存器可以实现右移位寄存、不移位寄存、同步置位、异步清零等功能；可以设置存储位宽。
寄存器同步功能受时钟信号上升沿触发。

## 端口和参数

### 模块名

`right_shift_reg`来自文件[right_shift_reg.v](right_shift_reg.v)

### 可调参数

DW：存储位宽(data width)，默认为4
使用测试模块时注意修改DW值。

### 端口

|信号|in/out|位宽|描述|
|:-:|:-:|:-:|:-:|
|`clk`|输入|1|时钟信号|
|`async_rst`|输入|1|异步清零控制|
|`load`|输入|1|同步置位控制|
|`en`|输入|1|右移位使能|
|`data`|输入|DW|同步置位输入数据|
|`data_h`|输入|1|右移位高位输入数据|
|`q`|输出|DW|寄存器存储数据|

## 功能

异步清零：`async_rst`信号被拉高时，各存储数据位始终被置0。
同步置位：`load`信号被拉高时，在时钟上升沿将存储数据置为`data`。
右移位寄存：`en`使能时，在每个时钟上升沿将存储数据右移1位；最低位移出后丢弃，最高位用`data_h`补齐。
不移位寄存：`en`不使能时，寄存器保持当前存储数据不变。

各功能相应控制端信号如下表：

|功能|`async_rst`|`load`|`en`|`data`读取情况|`data_h`读取情况|
|:-:|:-:|:-:|:-:|:-:|:-:|
|**异步清零**|1|x|x|封闭|封闭|
|**同步置位**|0|1|x|上升沿时读取|封闭|
|**右移位寄存**|0|0|1|封闭|上升沿时读取|
|**不移位寄存**|0|0|0|封闭|封闭|

先同步置位后开启右移位寄存，读取某一位输出数据，可实现并行输入转换为串行输出。
先异步清零后开启右移位寄存，读取全部输出数据，可实现串行输入转换为并行输出。
